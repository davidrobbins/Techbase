/*** @author admin*/function techBaseLoginListener(userName, password) {	var sessionRef = currentSession(); // Get session.	var promoteToken = sessionRef.promoteWith("Admin"); //temporarily make this session Admin level.			var myUser = ds.User.find("login = :1", userName);	if (myUser === null) {		return false;	} else {		if (myUser.validatePassword(password)) {						var theGroups = [];			switch (myUser.role) {				case "client":				theGroups = ['client'];				break;						case "tech":				theGroups = ['tech'];				break;				case "admin":				theGroups = ['Admin'];				break;			}									return {				ID: myUser.ID,				name: myUser.login,				fullName: myUser.fullName,				belongsTo: theGroups			}		} else {			return {error: 1024, errorMessage: "invalid login"};		}	}		sessionRef.unPromote(promoteToken); //put the session back to normal.}